{"version":3,"sources":["/Users/flo/Projects/Code/Web/remembear/src async","/Users/flo/Projects/Code/Web/remembear/src/app/api.service.ts","/Users/flo/Projects/Code/Web/remembear/src/app/app.component.html","/Users/flo/Projects/Code/Web/remembear/src/app/app.component.ts","/Users/flo/Projects/Code/Web/remembear/src/app/app.module.ts","/Users/flo/Projects/Code/Web/remembear/src/app/auth-guard.service.ts","/Users/flo/Projects/Code/Web/remembear/src/app/auth.service.ts","/Users/flo/Projects/Code/Web/remembear/src/app/autofocus.directive.ts","/Users/flo/Projects/Code/Web/remembear/src/app/consts.ts","/Users/flo/Projects/Code/Web/remembear/src/app/login.component.html","/Users/flo/Projects/Code/Web/remembear/src/app/login.component.ts","/Users/flo/Projects/Code/Web/remembear/src/app/main.component.html","/Users/flo/Projects/Code/Web/remembear/src/app/main.component.ts","/Users/flo/Projects/Code/Web/remembear/src/app/status.service.ts","/Users/flo/Projects/Code/Web/remembear/src/app/study.component.html","/Users/flo/Projects/Code/Web/remembear/src/app/study.component.ts","/Users/flo/Projects/Code/Web/remembear/src/app/view.component.html","/Users/flo/Projects/Code/Web/remembear/src/app/view.component.ts","/Users/flo/Projects/Code/Web/remembear/src/environments/environment.ts","/Users/flo/Projects/Code/Web/remembear/src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA,8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN2C;AAM3C,IAAa,UAAU;IADvB;QAGU,YAAO,GAAG,sCAAsC,CAAC,4BAA2B;IAqDtF,CAAC;IAnDC,0BAAK,GAAL,UAAM,IAAU;QACd,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC;aACtC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,SAAS,CAAC,EAAZ,CAAY,CAAC,CAAC;IAC7B,CAAC;IAED,kCAAa,GAAb,UAAc,QAAgB;QAC5B,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;IAC7D,CAAC;IAED,oCAAe,GAAf,UAAgB,QAAgB,EAAE,QAAgB,EAAE,QAAgB;QAClE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;IAClG,CAAC;IAED,uCAAkB,GAAlB,UAAmB,QAAgB,EAAE,QAAgB,EAAE,QAAgB;QACrE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;IACrG,CAAC;IAEK,gCAAW,GAAjB,UAAkB,KAAY,EAAE,QAAgB;;;;4BACvC,qBAAM,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,KAAK,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC;4BAAvE,sBAAO,SAAgE,EAAC;;;;KACzE;IAEO,kCAAa,GAArB,UAAsB,IAAY,EAAE,IAAQ,EAAE,MAAW;QACvD,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,GAAC,IAAI,EAAE;YAC9B,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,EAAE,cAAc,EAAE,kBAAkB,EAAE;SAChD,CAAC;aACC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC;aAEnB,IAAI,CAAC,WAAC,IAAI,WAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAb,CAAa,CAAC;aACxB,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;IAChC,CAAC;IAEO,mCAAc,GAAtB,UAAuB,IAAY,EAAE,MAAW;QAC9C,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;aAC5B,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC;aACnB,IAAI,CAAC,WAAC,IAAI,WAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAb,CAAa,CAAC;aACxB,KAAK,CAAC,WAAC,IAAI,cAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;IAChC,CAAC;IAEO,8BAAS,GAAjB,UAAkB,IAAI,EAAE,MAAW;QACjC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACX,IAAI,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC/C,GAAG,CAAC,WAAC,IAAI,QAAC,GAAC,GAAG,GAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAnC,CAAmC,CAAC,CAAC;YACjD,IAAI,IAAI,GAAG,GAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACrC,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEH,iBAAC;AAAD,CAAC;AAvDY,UAAU;IADtB,wFAAU,EAAE;GACA,UAAU,CAuDtB;AAvDsB;;;;;;;;ACNvB,kD;;;;;;;;;;;;;;;;ACA0C;AAO1C,IAAa,YAAY;IAAzB;IAA2B,CAAC;IAAD,mBAAC;AAAD,CAAC;AAAf,YAAY;IAJxB,yFAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,0EAAmC;KACpC,CAAC;GACW,YAAY,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACjB;AACM;AACQ;AAER;AACI;AACF;AACE;AACF;AACU;AAEhB;AACa;AACX;AACI;AAEjD,IAAM,SAAS,GAAW;IACxB,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,sEAAa,EAAE,WAAW,EAAE,CAAC,8EAAgB,CAAC,EAAE;IAC3E,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,wEAAc,EAAE,WAAW,EAAE,CAAC,8EAAgB,CAAC,EAAE;IAC7E,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,sEAAa,EAAE,WAAW,EAAE,CAAC,8EAAgB,CAAC,EAAE;IAC3E,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,wEAAc,EAAE;IAC5C,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;IACpD,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,wEAAc,EAAE;CAC1C,CAAC;AAsBF,IAAa,SAAS;IAAtB;IAAyB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAb,SAAS;IApBrB,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAY;YACZ,wEAAc;YACd,sEAAa;YACb,wEAAc;YACd,sEAAa;YACb,gFAAkB;SACnB;QACD,OAAO,EAAE;YACP,gFAAa;YACb,mEAAW;YACX,qEAAY,CAAC,OAAO,CAClB,SAAS,CAEV;SACF;QACD,SAAS,EAAE,CAAC,iEAAU,EAAE,8EAAgB,EAAE,mEAAW,EAAE,uEAAa,CAAC;QACrE,SAAS,EAAE,CAAC,oEAAY,CAAC;KAC1B,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;AC9CqB;AAEI;AACF;AAG7C,IAAa,gBAAgB;IAC3B,0BAAoB,WAAwB,EAAU,MAAc;QAAhD,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAExE,sCAAW,GAAX,UAAY,KAA6B,EAAE,KAA0B;QACnE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpC,CAAC;IAEO,qCAAU,GAAlB,UAAmB,GAAW;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAAC,CAAC;QAEjD,0CAA0C;QAC1C,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,GAAG,CAAC;QAEnC,yCAAyC;QACzC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;QACjC,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IACH,uBAAC;AAAD,CAAC;AAjBY,gBAAgB;IAD5B,wFAAU,EAAE;yDAEsB,kEAAW,oBAAX,kEAAW,sDAAkB,+DAAM,oBAAN,+DAAM;GADzD,gBAAgB,CAiB5B;AAjB4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNc;AAEE;AACJ;AACX;AAEa;AAQ3C,IAAa,WAAW;IACtB,qBAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;QAC1C,eAAU,GAAG,KAAK,CAAC;IAD0B,CAAC;IAO9C,2BAAK,GAAL,UAAM,IAAU;QAAhB,iBAQC;QAPC,MAAM,CAAC,2DAAU,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACvD,EAAE,CAAC,iBAAO;YACT,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAChC,CAAC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,4BAAM,GAAN;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;IAC5B,CAAC;IACH,kBAAC;AAAD,CAAC;AAtBY,WAAW;IADvB,wFAAU,EAAE;yDAEqB,gEAAU,oBAAV,gEAAU;GAD/B,WAAW,CAsBvB;AAtBuB;;;;;;;;;;;;;;;;;;;;;ACdsC;AAK9D,IAAa,kBAAkB;IAE7B,4BAAoB,UAAsB;QAAtB,eAAU,GAAV,UAAU,CAAY;IAAI,CAAC;IAAA,CAAC;IAEhD,qCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;IACxC,CAAC;IAEH,yBAAC;AAAD,CAAC;AARY,kBAAkB;IAH9B,uFAAS,CAAC;QACT,QAAQ,EAAE,cAAc;KACzB,CAAC;yDAGgC,iEAAU,oBAAV,iEAAU;GAF/B,kBAAkB,CAQ9B;AAR8B;;;;;;;;;;;;;;;;;;ACHxB,IAAM,cAAc,GAAG,wBAAwB,CAAC;AAEhD,IAAM,OAAO,GAAG,OAAO,CAAC;AACxB,IAAM,OAAO,GAAG,iBAAiB,CAAC;AAElC,IAAM,OAAO,GAAG,aAAa,CAAC;AAC9B,IAAM,OAAO,GAAG,YAAY,CAAC;AAC7B,IAAM,OAAO,GAAG,mBAAmB,CAAC;AACpC,IAAM,OAAO,GAAG,aAAa,CAAC;AAE9B,IAAM,IAAI,GAAU,CAAC;QAC1B,IAAI,EAAE,OAAO;QACb,UAAU,EAAE,OAAO;QACnB,OAAO,EAAE,aAAa;QACtB,cAAc,EAAE;YACd,SAAS;YACT,SAAS;SACV;QACD,UAAU,EAAE;YACV,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,CAAC;YACtB,CAAC,OAAO,EAAE,OAAO,EAAE,EAAE,CAAC;SACvB;QACD,IAAI,EAAE,EAAE;KACT,EAAE;QACD,IAAI,EAAE,OAAO;QACb,UAAU,EAAE,SAAS;QACrB,OAAO,EAAE,qBAAqB;QAC9B,cAAc,EAAE;YACd,SAAS;YACT,SAAS;YACT,WAAW;SACZ;QACD,UAAU,EAAE;YACV,CAAC,OAAO,EAAE,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC;YAC7B,CAAC,OAAO,EAAE,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC;YAC7B,CAAC,OAAO,EAAE,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC;SAC9B;QACD,IAAI,EAAE,CAAC,gBAAgB,EAAE,WAAW,EAAE,WAAW,CAAC;QAClD,KAAK,EAAE,OAAO;KACf,CAAC,CAAC;;;;;;;;ACzCH,8nC;;;;;;;;;;;;;;;;;;;;;ACA0C;AACD;AACU;AAKnD,IAAa,cAAc;IAIzB,wBAAmB,WAAwB,EAAS,MAAc;QAA/C,gBAAW,GAAX,WAAW,CAAa;QAAS,WAAM,GAAN,MAAM,CAAQ;QAF1D,SAAI,GAAS,EAAC,UAAU,EAAC,EAAE,EAAE,UAAU,EAAC,EAAE,EAAC,CAAC;QAGlD,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,mCAAU,GAAV;QACE,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC,CAAC;IAC1E,CAAC;IAED,8BAAK,GAAL;QAAA,iBAeC;QAdC,IAAI,CAAC,OAAO,GAAG,sBAAsB,CAAC;QAEtC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;YAC1C,KAAI,CAAC,UAAU,EAAE,CAAC;YAClB,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC;gBAChC,6CAA6C;gBAC7C,+CAA+C;gBAC/C,uFAAuF;gBACvF,IAAI,QAAQ,GAAG,OAAO,CAAC;gBAEvB,oBAAoB;gBACpB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAM,GAAN;QACE,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IACH;AAAA;AAjCa,cAAc;IAH1B,yFAAS,CAAC;QACT,4EAAqC;KACtC,CAAC;yDAKgC,kEAAW,oBAAX,kEAAW,sDAAiB,+DAAM,oBAAN,+DAAM;GAJvD,cAAc,CAiC3B;AAjC2B;;;;;;;;;ACP3B,yDAAyD,iBAAiB,IAAI,2BAA2B,oCAAoC,iCAAiC,8BAA8B,4BAA4B,uDAAuD,mEAAmE,2BAA2B,UAAU,GAAG,KAAK,IAAI,2CAA2C,oLAAoL,8CAA8C,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtnB;AACD;AACQ;AAGjB;AAKhC,IAAa,aAAa;IAIxB,uBAAoB,MAAqB,EAAS,MAAc;QAA5C,WAAM,GAAN,MAAM,CAAe;QAAS,WAAM,GAAN,MAAM,CAAQ;QAFxD,SAAI,GAAG,qDAAI,CAAC;IAE+C,CAAC;IAE9D,2BAAG,GAAT,UAAU,QAAgB,EAAE,QAAgB;;;;4BAC1C,qBAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,EAAE,QAAQ,CAAC;;wBAAnD,SAAmD,CAAC;wBACpD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;;KAClC;IAEK,8BAAM,GAAZ,UAAa,QAAgB,EAAE,QAAgB;;;;4BAC7C,qBAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC;;wBAAtD,SAAsD,CAAC;wBACvD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;;KAClC;IAEH,oBAAC;AAAD,CAAC;AAhBY,aAAa;IAHzB,yFAAS,CAAC;QACT,2EAAoC;KACrC,CAAC;yDAK4B,sEAAa,oBAAb,sEAAa,sDAAiB,+DAAM,oBAAN,+DAAM;GAJrD,aAAa,CAgBzB;AAhByB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVE;AACe;AAGE;AACF;AAG3C,IAAa,aAAa;IAexB,uBAAoB,WAAwB,EAAU,UAAsB;QAAxD,gBAAW,GAAX,WAAW,CAAa;QAAU,eAAU,GAAV,UAAU,CAAY;QAC1E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;QAC1C,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEO,wCAAgB,GAAxB;QAAA,iBAEC;QADC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,GAAG,CAAC,EAAf,CAAe,CAAC,CAAC;IAC1E,CAAC;IAEK,qCAAa,GAAnB,UAAoB,QAAgB,EAAE,QAAgB;;;;;;wBACpD,SAAI;wBAAgB,qBAAM,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;;wBAA5F,GAAK,YAAY,GAAG,SAAwE,CAAC;wBAC7F,IAAI,CAAC,UAAU,EAAE,CAAC;;;;;KACnB;IAEK,wCAAgB,GAAtB,UAAuB,QAAgB,EAAE,QAAgB;;;;;;wBACvD,SAAI;wBAAgB,qBAAM,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;;wBAA/F,GAAK,YAAY,GAAG,SAA2E,CAAC;wBAChG,IAAI,CAAC,UAAU,EAAE,CAAC;;;;;KACnB;IAEO,kCAAU,GAAlB;QAAA,iBAMC;QALC,IAAI,CAAC,gBAAgB,GAAG,6CAAO,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QAC7D,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,WAAC;YAC7B,YAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAC,CAAC;QAAlE,CAAkE,CAAC,CAAC;QACtE,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;IACrD,CAAC;IAEK,oCAAY,GAAlB;;gBAEM,SAAS;;gBADb,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;4BACN,8CAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;gBACxD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACzE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAC5D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBAClC,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;oBACzB,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC9B,CAAC;gBACD,sBAAO,IAAI,CAAC,eAAe,EAAC;;;KAC7B;IAED,mCAAW,GAAX,UAAY,MAAc;QAA1B,iBAsBC;QArBC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnB,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,eAAe;YACf,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC;YAClC,IAAI,CAAC,aAAa,CAAC,QAAQ,IAAI,IAAI,CAAC,GAAG,EAAE,GAAC,IAAI,CAAC,eAAe,CAAC;YAC/D,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzC,kBAAkB;YAClB,IAAI,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAChE,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,8CAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,WAAC,IAAI,QAAC,KAAK,KAAI,CAAC,eAAe,EAA1B,CAA0B,CAAC,CAAC;YACnE,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;gBACjD,IAAI,CAAC,YAAY,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;gBAC9D,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;qBACtE,IAAI,CAAC,WAAC,IAAI,YAAI,CAAC,MAAM,GAAG,CAAC,EAAf,CAAe,CAAC,CAAC;YAChC,CAAC;YACD,MAAM,CAAC,OAAO,CAAC;QACjB,CAAC;IACH,CAAC;IAEO,uCAAe,GAAvB,UAAwB,MAAc;QACpC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,CAAC,oBAAoB;QACnE,MAAM,CAAC,4CAAM,CAAC,+CAAS,CAAC,MAAM,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,4BAAI,GAAJ;QACE,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,MAAM,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,4CAAoB,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;YACvD,IAAI,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;YACxB,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;YACvC,KAAK,CAAC,IAAI,EAAE,CAAC;YACb,KAAK,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;IACH,CAAC;IAEH,oBAAC;AAAD,CAAC;AAjGY,aAAa;IADzB,wFAAU,EAAE;yDAgBsB,kEAAW,oBAAX,kEAAW,sDAAsB,gEAAU,oBAAV,gEAAU;GAfjE,aAAa,CAiGzB;AAjGyB;;;;;;;;;ACR1B,iHAAiH,mEAAmE,gDAAgD,6BAA6B,iMAAiM,4BAA4B,oLAAoL,oCAAoC,yCAAyC,oCAAoC,e;;;;;;;;;;;;;;;;;;;;;ACAztB;AACD;AACQ;AAKjD,IAAa,cAAc;IAQzB,wBAAoB,MAAqB,EAAS,MAAc;QAA5C,WAAM,GAAN,MAAM,CAAe;QAAS,WAAM,GAAN,MAAM,CAAQ;QAPxD,UAAK,GAAG,IAAI,CAAC;QAQnB,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAEO,6BAAI,GAAZ;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC7B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAClC,CAAC;IACH,CAAC;IAEO,8BAAK,GAAb;QAAA,iBAqBC;QApBC,kBAAkB;QAClB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC;gBAC3B,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC;gBAC5B,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,cAAM,YAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,EAA/B,CAA+B,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/E,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACxB,UAAU;YACV,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,IAAI,EAAE,CAAC;YACd,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;YACjC,CAAC;QACH,CAAC;IACH,CAAC;IAEH,qBAAC;AAAD,CAAC;AA9CY,cAAc;IAH1B,yFAAS,CAAC;QACT,4EAAqC;KACtC,CAAC;yDAS4B,sEAAa,oBAAb,sEAAa,sDAAiB,+DAAM,oBAAN,+DAAM;GARrD,cAAc,CA8C1B;AA9C0B;;;;;;;;;ACP3B,mEAAmE,mEAAmE,uBAAuB,oCAAoC,uBAAuB,oCAAoC,sBAAsB,6BAA6B,oCAAoC,4BAA4B,c;;;;;;;;;;;;;;;;;;;;;ACArU;AACD;AACQ;AAKjD,IAAa,aAAa;IAExB,uBAAoB,MAAqB,EAAS,MAAc;QAA5C,WAAM,GAAN,MAAM,CAAe;QAAS,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAEpE,4BAAI,GAAJ;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC;IAEH,oBAAC;AAAD,CAAC;AARY,aAAa;IAHzB,yFAAS,CAAC;QACT,2EAAoC;KACrC,CAAC;yDAG4B,sEAAa,oBAAb,sEAAa,sDAAiB,+DAAM,oBAAN,+DAAM;GAFrD,aAAa,CAQzB;AARyB;;;;;;;;;;ACP1B;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEhF,mFALmF;AAK5E,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;;;;ACP6C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,4FAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/Web/remembear/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","import { Injectable } from '@angular/core';\n\nimport { Study, UserStatus } from './types';\nimport { User } from './auth.service';\n\n@Injectable()\nexport class ApiService {\n\n  private API_URL = \"https://remembear-api.herokuapp.com/\";//\"http://localhost:8060/\";\n\n  login(user: User): Promise<boolean> {\n    return this.getJsonFromApi('login', user)\n      .then(j => j['success']);\n  }\n\n  getUserStatus(username: string): Promise<UserStatus> {\n    return this.getJsonFromApi('status', {username: username});\n  }\n\n  getNewQuestions(username: string, setIndex: number, dirIndex: number): Promise<Study> {\n    return this.getJsonFromApi('new', {username: username, setIndex: setIndex, dirIndex: dirIndex});\n  }\n\n  getReviewQuestions(username: string, setIndex: number, dirIndex: number): Promise<Study> {\n    return this.getJsonFromApi('review', {username: username, setIndex: setIndex, dirIndex: dirIndex});\n  }\n\n  async sendResults(study: Study, username: string): Promise<UserStatus> {\n    return await this.postJsonToApi('results', study, {username: username});\n  }\n\n  private postJsonToApi(path: string, json: {}, params?: {}) {\n    path = this.addParams(path, params);\n    return fetch(this.API_URL+path, {\n      method: 'post',\n      body: JSON.stringify(json),\n      headers: { 'Content-Type': 'application/json' }\n    })\n      .then(r => r.text())\n      //.then(r => {console.log(r); return r})\n      .then(t => JSON.parse(t))\n      .catch(e => console.log(e));\n  }\n\n  private getJsonFromApi(path: string, params?: {}): Promise<{}> {\n    path = this.addParams(path, params);\n    return fetch(this.API_URL+path)\n      .then(r => r.text())\n      .then(t => JSON.parse(t))\n      .catch(e => console.log(e));\n  }\n\n  private addParams(path, params?: {}) {\n    if (params) {\n      let paramStrings = Array.from(Object.keys(params))\n        .map(k => k+\"=\"+encodeURIComponent(params[k]));\n      path += '?'+paramStrings.join('&');\n    }\n    return path;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/api.service.ts","module.exports = \"<router-outlet></router-outlet>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/Web/remembear/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","import { Component } from '@angular/core';\nimport { ApiService } from './api.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule }   from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login.component';\nimport { MainComponent } from './main.component';\nimport { StudyComponent } from './study.component';\nimport { ViewComponent } from './view.component';\nimport { AutofocusDirective } from './autofocus.directive';\n\nimport { ApiService } from './api.service';\nimport { AuthGuardService } from './auth-guard.service';\nimport { AuthService } from './auth.service';\nimport { StatusService } from './status.service';\n\nconst appRoutes: Routes = [\n  { path: 'main', component: MainComponent, canActivate: [AuthGuardService] },\n  { path: 'study', component: StudyComponent, canActivate: [AuthGuardService] },\n  { path: 'view', component: ViewComponent, canActivate: [AuthGuardService] },\n  { path: 'login', component: LoginComponent },\n  { path: '', redirectTo: '/main', pathMatch: 'full' },\n  { path: '**', component: LoginComponent }\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    MainComponent,\n    StudyComponent,\n    ViewComponent,\n    AutofocusDirective\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    RouterModule.forRoot(\n      appRoutes,\n      //{ enableTracing: true } // <-- debugging purposes only\n    )\n  ],\n  providers: [ApiService, AuthGuardService, AuthService, StatusService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot,\n  RouterStateSnapshot } from '@angular/router';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class AuthGuardService implements CanActivate {\n  constructor(private authService: AuthService, private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    return this.checkLogin(state.url);\n  }\n\n  private checkLogin(url: string): boolean {\n    if (this.authService.isLoggedIn) { return true; }\n\n    // Store the attempted URL for redirecting\n    this.authService.redirectUrl = url;\n\n    // Navigate to the login page with extras\n    this.router.navigate(['/login']);\n    return false;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/auth-guard.service.ts","import { Injectable } from '@angular/core';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromPromise';\nimport 'rxjs/add/operator/do';\n\nimport { ApiService } from './api.service';\n\nexport interface User {\n  username: string;\n  password: string;\n}\n\n@Injectable()\nexport class AuthService {\n  constructor(private apiService: ApiService) {}\n  isLoggedIn = false;\n  username: string;\n\n  // store the URL so we can redirect after logging in\n  redirectUrl: string;\n\n  login(user: User): Observable<boolean> {\n    return Observable.fromPromise(this.apiService.login(user))\n      .do(success => {\n        if (success) {\n          this.isLoggedIn = true;\n          this.username = user.username;\n        }\n      });\n  }\n\n  logout(): void {\n    this.isLoggedIn = false;\n    this.username = undefined;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/auth.service.ts","import { Directive, OnInit, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[autofocus2]'\n})\nexport class AutofocusDirective implements OnInit {\n\n  constructor(private elementRef: ElementRef) { };\n\n  ngOnInit(): void {\n    this.elementRef.nativeElement.focus();\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/autofocus.directive.ts","import { Set } from './types';\n\nexport const AUDIO_LOCATION = 'http://localhost:8060/';\n\nexport const KAN_KAN = \"Kanji\";\nexport const KAN_ENG = \"English Meaning\";\n\nexport const VOC_JAP = \"Vocab-japan\";\nexport const VOC_KNA = \"Vocab-kana\";\nexport const VOC_ENG = \"Vocab-translation\";\nexport const VOC_AUD = \"Vocab-audio\";\n\nexport const SETS: Set[] = [{\n  name: \"Kanji\",\n  collection: \"kanji\",\n  idField: \"2k1KO Index\",\n  directionNames: [\n    \"Reading\",\n    \"Writing\"\n  ],\n  directions: [\n    [KAN_KAN, KAN_ENG, []],\n    [KAN_ENG, KAN_KAN, []]\n  ],\n  info: []\n}, {\n  name: \"Vocab\",\n  collection: \"core10k\",\n  idField: \"2k1-Kanken Opt Sort\",\n  directionNames: [\n    \"Writing\",\n    \"Reading\",\n    \"Listening\"\n  ],\n  directions: [\n    [VOC_ENG, VOC_JAP, [VOC_KNA]],\n    [VOC_JAP, VOC_KNA, [VOC_ENG]],\n    [VOC_AUD, VOC_ENG, [VOC_JAP]]\n  ],\n  info: [\"Part of speech\", \"Word-type\", \"Vocab-RTK\"],\n  audio: VOC_AUD\n}];\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/consts.ts","module.exports = \"<h1>LOGIN</h1>\\n<form (ngSubmit)=\\\"login()\\\" #loginForm=\\\"ngForm\\\">\\n  Username:\\n  <input id=\\\"name\\\" name=\\\"name\\\" class=\\\"form-control\\\"\\n    required minlength=\\\"4\\\" [(ngModel)]=\\\"user.username\\\" #name=\\\"ngModel\\\" >\\n\\n  <div *ngIf=\\\"name.invalid && (name.dirty || name.touched)\\\"\\n       class=\\\"alert alert-danger\\\">\\n\\n    <div *ngIf=\\\"name.errors.required\\\">\\n      Name is required.\\n    </div>\\n    <div *ngIf=\\\"name.errors.minlength\\\">\\n      Name must be at least 4 characters long.\\n    </div>\\n\\n  </div>\\n\\n  <br>\\n\\n  Password:\\n  <input id=\\\"pass\\\" name=\\\"pass\\\" type=\\\"password\\\" class=\\\"form-control\\\"\\n    required minlength=\\\"4\\\" [(ngModel)]=\\\"user.password\\\" #pass=\\\"ngModel\\\" >\\n\\n  <div *ngIf=\\\"pass.invalid && (pass.dirty || pass.touched)\\\"\\n       class=\\\"alert alert-danger\\\">\\n\\n    <div *ngIf=\\\"pass.errors.required\\\">\\n      Password is required.\\n    </div>\\n    <div *ngIf=\\\"pass.errors.minlength\\\">\\n      Password must be at least 4 characters long.\\n    </div>\\n\\n  </div>\\n\\n  <br>\\n  <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"!loginForm.form.valid\\\">Login</button>\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/Web/remembear/src/app/login.component.html\n// module id = ../../../../../src/app/login.component.html\n// module chunks = 1","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService, User } from './auth.service';\n\n@Component({\n  templateUrl: './login.component.html'\n})\nexport class LoginComponent {\n  private message: string;\n  private user: User = {\"username\":\"\", \"password\":\"\"};\n\n  constructor(public authService: AuthService, public router: Router) {\n    this.setMessage();\n  }\n\n  setMessage() {\n    this.message = 'Logged ' + (this.authService.isLoggedIn ? 'in' : 'out');\n  }\n\n  login() {\n    this.message = 'Trying to log in ...';\n\n    this.authService.login(this.user).subscribe(() => {\n      this.setMessage();\n      if (this.authService.isLoggedIn) {\n        // Get the redirect URL from our auth service\n        // If no redirect has been set, use the default\n        //let redirect = this.authService.redirectUrl ? this.authService.redirectUrl : '/main';\n        let redirect = '/main';\n\n        // Redirect the user\n        this.router.navigate([redirect]);\n      }\n    });\n  }\n\n  logout() {\n    this.authService.logout();\n    this.setMessage();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/login.component.ts","module.exports = \"<div *ngIf=\\\"status.status\\\">\\n  <h1>{{status.username}} ({{status.status.totalPoints}} points)</h1>\\n  <h3>word levels: {{status.status.wordsKnownByLevel}}</h3>\\n  <h3>latest points: {{status.status.latestPoints}}</h3>\\n  <br>\\n  <br>\\n  <div *ngFor=\\\"let set of sets; let s = index\\\">\\n    <div *ngFor=\\\"let dir of set.directionNames; let d = index\\\">\\n      {{set.name}} {{dir}} ({{status.status.wordsKnownByDirection[s][d]}})\\n      <button (click)=\\\"new(s,d)\\\">learn new</button>\\n      <button (click)=\\\"review(s,d)\\\" [disabled]=\\\"status.status.wordsToReviewByDirection[s][d] < 1\\\">\\n        review ({{status.status.wordsToReviewByDirection[s][d]}})</button>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/Web/remembear/src/app/main.component.html\n// module id = ../../../../../src/app/main.component.html\n// module chunks = 1","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StatusService } from './status.service';\n\nimport { Set } from './types';\nimport { SETS } from './consts';\n\n@Component({\n  templateUrl: './main.component.html'\n})\nexport class MainComponent {\n\n  private sets = SETS;\n\n  constructor(private status: StatusService, public router: Router) {}\n\n  async new(setIndex: number, dirIndex: number) {\n    await this.status.startNewStudy(setIndex, dirIndex);\n    this.router.navigate(['/study']);\n  }\n\n  async review(setIndex: number, dirIndex: number) {\n    await this.status.startReviewStudy(setIndex, dirIndex);\n    this.router.navigate(['/study']);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/main.component.ts","import * as _ from 'lodash';\nimport { Injectable } from '@angular/core';\n\nimport { UserStatus, Question, Study, Answer } from './types';\nimport { AuthService } from './auth.service';\nimport { ApiService } from './api.service';\n\n@Injectable()\nexport class StatusService {\n\n  private username: string;\n  private currentStudy: Study;\n  private qsStillIncorrect: Question[];\n  private answers: Map<Question, Answer>;\n\n  public status: UserStatus;\n  public currentQuestion: Question;\n  public isAudioQuestion: boolean;\n  public currentAnswerString: string;\n  private currentAnswer: Answer;\n  private answerStartTime: number;\n  private answered: boolean;\n\n  constructor(private authService: AuthService, private apiService: ApiService) {\n    this.username = this.authService.username;\n    this.updateUserStatus();\n  }\n\n  private updateUserStatus() {\n    this.apiService.getUserStatus(this.username).then(s => this.status = s);\n  }\n\n  async startNewStudy(setIndex: number, dirIndex: number) {\n    this.currentStudy = await this.apiService.getNewQuestions(this.username, setIndex, dirIndex);\n    this.startStudy();\n  }\n\n  async startReviewStudy(setIndex: number, dirIndex: number) {\n    this.currentStudy = await this.apiService.getReviewQuestions(this.username, setIndex, dirIndex);\n    this.startStudy();\n  }\n\n  private startStudy() {\n    this.qsStillIncorrect = _.clone(this.currentStudy.questions);\n    this.answers = new Map();\n    this.qsStillIncorrect.forEach(q =>\n      this.answers.set(q, {wordId: q.wordId, attempts: [], duration: 0}));\n    this.currentStudy.startTime = new Date(Date.now());\n  }\n\n  async nextQuestion(): Promise<Question> {\n    this.answered = false;\n    let nextIndex = _.random(this.qsStillIncorrect.length-1);\n    this.currentQuestion = this.qsStillIncorrect[nextIndex];\n    this.isAudioQuestion = this.currentQuestion.question.indexOf('.mp3') > 0;\n    this.currentAnswer = this.answers.get(this.currentQuestion);\n    this.answerStartTime = Date.now();\n    if (this.isAudioQuestion) {\n      this.playCurrentWordAudio();\n    }\n    return this.currentQuestion;\n  }\n\n  checkAnswer(answer: string): boolean {\n    if (!this.answered) {\n      answer = this.normalizeAnswer(answer);\n      this.answered = true;\n      this.playCurrentWordAudio();\n      //update answer\n      this.currentAnswerString = answer;\n      this.currentAnswer.duration += Date.now()-this.answerStartTime;\n      this.currentAnswer.attempts.push(answer);\n      //check if correct\n      let correct = this.currentQuestion.answers.indexOf(answer) >= 0;\n      if (correct) {\n        _.remove(this.qsStillIncorrect, q => q === this.currentQuestion);\n      }\n      if (this.done()) {\n        this.currentStudy.endTime = new Date(Date.now());\n        this.currentStudy.answers = Array.from(this.answers.values());\n        this.apiService.sendResults(this.currentStudy, this.authService.username)\n          .then(s => this.status = s);\n      }\n      return correct;\n    }\n  }\n\n  private normalizeAnswer(answer: string) {\n    answer = answer.replace(/ *\\([^)]*\\) */g, \"\"); //remove parentheses\n    return _.trim(_.toLower(answer));\n  }\n\n  done(): boolean {\n    return this.qsStillIncorrect.length === 0;\n  }\n\n  playCurrentWordAudio() {\n    if (this.currentQuestion && this.currentQuestion.audio) {\n      let audio = new Audio();\n      audio.src = this.currentQuestion.audio;\n      audio.load();\n      audio.play();\n    }\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/status.service.ts","module.exports = \"<form *ngIf=\\\"status.currentQuestion\\\" (ngSubmit)=\\\"check()\\\" #answerForm=\\\"ngForm\\\">\\n  <h1>{{status.isAudioQuestion ? \\\"🔊\\\" : status.currentQuestion.question}}</h1>\\n  <p *ngIf=\\\"!status.isAudioQuestion\\\">{{status.currentQuestion.info}}</p>\\n  <br>\\n  <br>\\n  <input autofocus2 id=\\\"answ\\\" name=\\\"answ\\\" class=\\\"form-control answer-input\\\"\\n    required minlength=\\\"1\\\" [(ngModel)]=\\\"answer\\\" #answ=\\\"ngModel\\\"\\n    [ngStyle]=\\\"{'background-color': bgColor}\\\" autocomplete=\\\"off\\\">\\n  <div *ngIf=\\\"answ.invalid && (answ.dirty || answ.touched)\\\"\\n    class=\\\"alert alert-danger\\\"></div>\\n  <br>\\n  <br>\\n  <h4 *ngIf=\\\"status.answered\\\">{{status.currentQuestion.fullAnswers}}</h4>\\n  <h4 *ngIf=\\\"status.answered\\\">{{status.currentQuestion.otherFields}}</h4>\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/Web/remembear/src/app/study.component.html\n// module id = ../../../../../src/app/study.component.html\n// module chunks = 1","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StatusService } from './status.service';\n\n@Component({\n  templateUrl: './study.component.html'\n})\nexport class StudyComponent {\n  private DELAY = 2000;\n  private timeout;\n  private answer: string;\n  private checked: boolean;\n  private correct: boolean;\n  private bgColor: string;\n\n  constructor(private status: StatusService, public router: Router) {\n    this.next();\n  }\n\n  private next() {\n    this.answer = null;\n    this.checked = false;\n    this.bgColor = 'White';\n    if (!this.status.done()) {\n      this.status.nextQuestion();\n    } else {\n      this.router.navigate(['/main']);\n    }\n  }\n\n  private check() {\n    //only check once!\n    if (!this.checked && this.answer && this.answer.length > 0) {\n      this.checked = true;\n      this.correct = this.status.checkAnswer(this.answer);\n      if (this.correct) {\n        this.bgColor = 'PaleGreen';\n        this.timeout = setTimeout(this.next.bind(this), this.DELAY);\n      } else {\n        this.bgColor = 'LightCoral';\n        this.timeout = setTimeout(() => this.router.navigate(['/view']), this.DELAY);\n      }\n    } else if (this.checked) {\n      //shortcut\n      clearTimeout(this.timeout);\n      if (this.correct) {\n        this.next();\n      } else {\n        this.router.navigate(['/view'])\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/study.component.ts","module.exports = \"<div (window:keydown.enter)=\\\"next()\\\">\\n  <h1>{{status.isAudioQuestion ? \\\"🔊\\\" : status.currentQuestion.question}}</h1>\\n  <br>\\n  <h2>{{status.currentQuestion.fullAnswers}}</h2>\\n  <br>\\n  <h3>{{status.currentQuestion.otherFields}}</h3>\\n  <br>\\n  <p>{{status.currentQuestion.info}}</p>\\n  <br>\\n  <h4>You answered: {{status.currentAnswerString}}</h4>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/flo/Projects/Code/Web/remembear/src/app/view.component.html\n// module id = ../../../../../src/app/view.component.html\n// module chunks = 1","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StatusService } from './status.service';\n\n@Component({\n  templateUrl: './view.component.html'\n})\nexport class ViewComponent {\n\n  constructor(private status: StatusService, public router: Router) {}\n\n  next() {\n    this.router.navigate(['/study']);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/app/view.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/flo/Projects/Code/Web/remembear/src/main.ts"],"sourceRoot":"webpack:///"}